<?xml version="1.0"?>

<!DOCTYPE hibernate-mapping SYSTEM
"hibernate-mapping-3.0.dtd">

<hibernate-mapping>
   
   <class
      name="client.Order"
      table="orders">
      <id
         name="id"
         column="id">
         <generator class="increment"/>
      </id>
      <property
         name="address"
         column="address"/>
      <property
         name="delivered"
         column="delivered"/>
      <set name="pizzas" table="orders_pizzas">
        <key column="id_order"/>
        <many-to-many column="id_pizza"
            unique="true"
            class="client.Pizza"/>
    </set>
   </class>
   
   <class
      name="client.Pizza"
      table="pizzas">
      <id
         name="id"
         column="id">
         <generator class="increment"/>
      </id>
      <property
         name="name"
         column="name"/>
      <property
         name="description"
         column="description"/>
      <property
         name="isPermanent"
         column="permanent"/>
      <property
         name="date"
         column="date"/>
      <property
         name="link"
         column="link"/>
      <set name="ingredients" table="pizzas_ingredients">
        <key column="id_pizza"/>
        <many-to-many column="id_ingredient"
            unique="true"
            class="client.Ingredient"/>
    </set>
   </class>
   
   <class
      name="client.Ingredient"
      table="ingredients">
      <id
         name="id"
         column="id">
         <generator class="increment"/>
      </id>
      <property
         name="name"
         column="name"/>
      <property
         name="price"
         column="price"/>
   </class>
   
</hibernate-mapping>
